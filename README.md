# Проектная работа "Веб-ларек"

Ссылка на проект: https://github.com/Viktor-Bolotin/web-larek-frontend.git

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Классы и компоненты

## Модель
Класс ProductApi - отвечает за взаимодействие с API
getProductList() - получает список товаров
sentOrder() - отправляет сформированный заказ на сервер

Класс Products - обрабатывает присутствующие в магазине товары
getProducts() - формирует список товаров на основе данных, пришедших с АПИ
addProduct() - добавляет товары в общий список
getProduct() - возвращает товар в соответствии с заданным id
toggleSelectProduct() - изменяет состояние товара, если его положили в корзину или удалили из неё

Класс Order - работает с формированием заказа для отправки на сервер
setOrderData() - формирует параметры заказа в соответствии с полученными данными
getOrderData() - отображает существующие на данный момент параметры заказа

Класс Basket - обрабатывает добавленные к заказу товары
addBasketItem() - добавляет товар к списку заказанных
removeBasketItem - удаляет товар из списка заказанных
calculateBasketSum() - определяет сумму товаров, добавленных в корзину
setBasketSize() - инициирует событие и передаёт обновлённый размер корзины
getOrderData() - передаёт массив данных для формирования корзины

## Отображение
Абстрактный класс Modal формирует базовые функции для всех модальных окон:
openModal() - открывает модальное окно
closeModal() - закрывает модальное окно

Класс ModalCard формирует модальное окно просмотра карточки
setModal() - настраивает содержимое модального окна в зависимости от того, на какую карточку нажал пользователь по полученным настройкам
Также класс передаёт информацию о том, какой товар положили в корзину

Класс ModalBasket - отвечает за отображение модального окна корзины
addBasketElement() - создаёт HTML-элемент карточки в корзине и сохраняет её в массив
removeBaskerElement() - удаляется HTML-элемент карточки из сохранённых в массиве
renderBasket() - отвечает за выведение элементов модального окна

Абстрактный класс ModalClient Data расширяет класс Modal для последующих модальных окон с получением информации о клиенте
isValidInput() - проверяет, заполнены ли поля input
isValidModal() - объявляется, но не реализуется

Класс ModalOrder - отвечает за отображение модального окна с выбором способа оплаты и полем ввода для адреса
isValidModal() - проверяет, заполнено ли поле адреса и выбран ли способ оплаты. Если нет, блокирует кнопку продолжения
getOrderData() - предоставляет данные, введённые пользователем, для формирования заказа

Класс ModalContacts - отвечает за отображение модального окна с полями для ввода контактных данных
isValidModal() - проверяет, заполнены ли оба поля ввода. Если нет, блокирует кнопку оформления заказа
getOrderData() - предоставляет данные, введённые пользователем, для формирования заказа

Класс Page - отвечает за отображение главной страницы проекта
lockedPage() - блокирует прокрутку страницы при открытом модальном окне и разблокирует, если модальное окно закрыто
renderGallery() - отображает галерею товаров
setBasketCounter() - изменяет значение счётчика добавленных в корзину товаров

## Брокер событий
Модель данных с отображениям связана через брокер событий

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```
